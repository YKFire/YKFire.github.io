<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="从根儿上理解微服务03" /><meta name="author" content="YKFire" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="前言" /><meta property="og:description" content="前言" /><link rel="canonical" href="/posts/MicroservicesThree/" /><meta property="og:url" content="/posts/MicroservicesThree/" /><meta property="og:site_name" content="YKFire" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-08-14T13:54:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="从根儿上理解微服务03" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@YKFire" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"YKFire"},"dateModified":"2023-08-14T13:54:00+00:00","datePublished":"2023-08-14T13:54:00+00:00","description":"前言","headline":"从根儿上理解微服务03","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/MicroservicesThree/"},"url":"/posts/MicroservicesThree/"}</script><title>从根儿上理解微服务03 | YKFire</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="YKFire"><meta name="application-name" content="YKFire"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/config/z1.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">YKFire</a></div><div class="site-subtitle font-italic">怕什么真理无穷，进一寸，有一寸的欢喜.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/YKFire" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['1183491613','qq.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>从根儿上理解微服务03</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>从根儿上理解微服务03</h1><div class="post-meta text-muted"> <span> 发表于 <em class="" data-ts="1692021240" data-df="YYYY/MM/DD" data-toggle="tooltip" data-placement="bottom"> 2023/08/14 </em> </span><div class="d-flex justify-content-between"> <span> 作者 <em> <a href=""></a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3461 字"> <em>19 分钟</em>阅读</span></div></div></div><div class="post-content"><h2 id="前言"><span class="mr-2">前言</span><a href="#前言" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong><a href="https://ykfire.github.io/posts/MicroservicesTwo/">上一篇文章</a></strong>中我详细讲解了为什么需要微服务以及如何划分微服务。今天，咱们正式进入到微服务专栏正题 —— 微服务技术架构。</p><p>大家在平常开发的时候，一定或多或少接触过负载均衡、服务发现与注册、服务熔断、服务降级等概念。但是，你有认真地梳理过这些内容吗？如果让你来开发一个微服务，你应该如何开发相关的微服务组件或引入开源解决方案？</p><p>今天，我先带大家大概梳理清楚微服务技术架构脉络，使大家对于微服务有一个总体上的认识。</p><p>如下为微服务架构思维导图</p><p><a href="/assets/blog_res/2023-08-14-MicroservicesThree.assets/image-20230823215558326.png" class="popup img-link "><img data-src="/assets/blog_res/2023-08-14-MicroservicesThree.assets/image-20230823215558326.png" alt="image-20230823215558326" class="lazyload" data-proofer-ignore></a></p><h2 id="服务描述"><span class="mr-2"><strong>服务描述</strong></span><a href="#服务描述" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>在单体项目的开发过程中，很多时候我们采用主流的前后端分离开发模式。</p><ol><li>前端请求后端接口<li>后端将响应 JSON 返回给前端</ol><p>但是，在微服务项目中，虽然前端仍然只是简单地请求后端，但是后端在处理请求的过程中，可能需要经过不同的微服务。微服务之间是需要进行通信的。</p><p>那么在通信之前，我们需要解决一个问题：如何定义当前微服务？更通俗地来说，你的微服务叫什么、服务提供了什么接口、服务接口是如何定义的、服务返回的结果格式是什么、如何解析等。这一系列问题的解决方案就是「服务描述」。</p><p>具体的服务描述包括三种方式：</p><ol><li>RESTful API<li>XML 文件配置<li>IDL 文件配置</ol><p>这三种方式中，RESTful API 可能是我们日常开发中接触最多的一种形式。即使在单体应用中，我们也经常采用这一方式来规范团队接口定义格式。</p><p>IDL 文件也十分常见，它是一种接口描述语言，主要用于 Thrift 与 gRPC 这类跨语言服务框架中，即使是不同语言、不同平台，也可以互相通信。</p><h2 id="服务发现与注册"><span class="mr-2"><strong>服务发现与注册</strong></span><a href="#服务发现与注册" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>🌟 划重点，重要内容！</p><p>当我们实现了多个微服务并定义了相关服务描述之后，应该如何实现互相调用、互相通信呢？这就是服务发现与注册需要解决的问题。</p><p>当某一个服务想要调用另外一个服务时，需要知道另一个服务的地址、端口等信息，但是总不可能每一个服务都将所有服务的地址信息记录在本地，这样单服务会存在一定的负载。数据库存储较难维护，也不是一个很好的选择，因为服务的地址信息随时可能发生变化（由于扩缩容、服务下线等原因），这个变化需要被各个服务所感知。</p><p>因此，我们需要将这部分信息抽取出来，集中交由某个代理进行统一管理，这就是我们所要提到的「注册中心」。</p><ol><li>当服务上线时，需要向注册中心提交自己当前的地址信息，并向注册中心订阅自己所需的服务信息。<li>当服务下线时，需要通知注册中心，及时删除相关服务信息，并通知其它订阅该服务的服务。<li>当服务信息发生变化时，注册中心需要及时更改信息。<li>所有服务需要定时与注册中心进行通信（心跳信息），以确认是否存活。</ol><p>在日常开发中，较为常见的注册中心有如下几种：</p><ol><li>Nacos<li>Zookeeper<li>Eureka<li>Consul</ol><h2 id="服务通信"><span class="mr-2"><strong>服务通信</strong></span><a href="#服务通信" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>在单体项目中，不同模块之间可以<strong>通过函数调用的方式</strong>进行交互。</p><p>但是，在微服务的世界中，每个微服务最终是以分布式的方式部署于多台服务器上，是一个分布式系统。各个服务实例都是不同的进程。</p><p>因此，不同服务之间必须使用 <strong>IPC 进程间通信机制</strong> 进行交互。</p><p>如下为两类 IPC 技术：</p><ol><li>异步、基于消息的通信<li>异步通信，客户端不会阻塞等待响应返回<li>采用消息系统标准协议，如：AMQP / STOMP<li>开源消息系统：如：RabbitMQ / Kafka / RocketMQ 等<li>同步的请求 &amp; 响应<li>同步通信，客户端等待响应时为阻塞状态<li>两类方式：<li>REST，基于 HTTP 协议<li>Thrift，跨语言、支持多种消息格式</ol><p>对于服务通信，还需要了解通信的消息格式：文本与二进制</p><ol><li>对于文本格式，有 JSON 与 XML 格式<li>对于二进制，可以采用开源序列化协议，如：Protocol Buffer、Kyro、Hessian等</ol><h2 id="服务路由"><span class="mr-2"><strong>服务路由</strong></span><a href="#服务路由" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>🌟 划重点，重要内容！</p><h3 id="负载均衡"><span class="mr-2"><strong>负载均衡</strong></span><a href="#负载均衡" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li>在实际的微服务调用中，可能一个微服务对应几十个实例节点，那么对于服务调用者而言，应该如何从中选取节点进行调用呢？这就涉及到了服务节点的负载均衡。<li>负载均衡，顾名思义，就是为了使得同一服务的不同节点，较为均衡地接收并处理请求。<li>对于机器性能高、响应速度快、处理请求少的节点，尽可能多地处理请求，发挥最大作用<li>常见的负载均衡算法有如下几种：<ol><li>随机算法<li>轮询算法<li>加权轮询算法<li>最少活跃连接算法<li>一致性 Hash 算法</ol></ol><h3 id="分组调用"><span class="mr-2"><strong>分组调用</strong></span><a href="#分组调用" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>通过对 RPC 请求打标签，实现生产环境服务与测试环境服务隔离。</p><p>例如：当A、B两个工程师在共同开发一个叫做 UserService 服务时候，A 的 UserService 开发还未完成，处于自测阶段，B 的 UserService 已经开发完成，进入了测试阶段。这时，可以对服务进行分组管理，开发的 UserService 的 group 设置为 dev，B 开发的 UserService 的 group 设置为 test。</p><h3 id="全链路灰度发布"><span class="mr-2"><strong>全链路灰度发布</strong></span><a href="#全链路灰度发布" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>当服务全量发布上线之前，我们需要先在一小部分节点上发布服务，进行局部测试。</p><ol><li>若测试正常，没有出现问题的话，就继续扩大发布范围，逐渐实现全量更新。<li>若出现异常，则暂停发布，进行问题排查，这样所造成的负面影响范围较小，不会造成整体的经济损失。</ol><p>这种部署方式也称为「金丝雀部署」。</p><h2 id="服务稳定性治理"><span class="mr-2"><strong>服务稳定性治理</strong></span><a href="#服务稳定性治理" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>🌟 划重点，重要内容！</p><h3 id="服务限流降级与熔断"><span class="mr-2"><strong>服务限流、降级与熔断</strong></span><a href="#服务限流降级与熔断" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>在我们日常开发中，一定会经常接触到这三个词：限流、降级、熔断。这其实是高并发场景下最常遇到的服务治理问题。</p><p>通过这三种方案，确保服务在大多数情况下的「高可用」。</p><ol><li>服务限流：在高并发系统中，可能会遇到流量高峰，这时需要通过服务限流，以此限制 QPS，从而起到保护服务、削减流量的作用。<li>常见限流方式：单实例限流、分布式限流<li>服务降级：对于微服务项目，为了在高并发场景下保护核心服务，通常会采用 “弃车保帅” 的降级思路，通过丢弃非核心服务请求，削减流量。<li>服务熔断：当服务出现重大事故、Bug 时，为了防止故障扩散、全链路崩溃、整体服务宕机的情况，需要对服务上游源头进行熔断操作，即直接抛出异常信息，以此在最大程度下保护下游服务。</ol><h3 id="动态超时"><span class="mr-2"><strong>动态超时</strong></span><a href="#动态超时" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>一次微服务请求，可能涉及到几十个服务调用，调用链路十分长。为了防止长时间处理请求，造成请求资源占用的情况，需要引入<strong>超时机制</strong>。</p><p>可以有效避免由于长时间的服务调用，造成服务过载，进而引起链路崩溃。</p><h3 id="请求重试"><span class="mr-2"><strong>请求重试</strong></span><a href="#请求重试" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>当请求失败时，有可能是由于网络阻塞、服务卡顿、TCP 连接异常等原因。这时可以进行适当的请求重试，从而减少请求失败次数，提升服务整体的可用性。</p><p>但是，也需要注意设置合理的重试次数，避免重试次数过大、请求累积，进而压垮整个服务。</p><p>对于非幂等请求，需要额外小心，防止由于多次重试，造成服务端数据异常问题。</p><h2 id="服务可观测"><span class="mr-2"><strong>服务可观测</strong></span><a href="#服务可观测" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>对于微服务系统而言，存在着复杂的链路调用，使得排查线上问题的难度增大。因此，需要建立更加可靠的「可观测系统」，也就是我们日常开发中经常接触的三个概念：<strong>日志系统</strong>、<strong>性能指标</strong>、<strong>链路追踪</strong>。</p><p>微服务可观测性并不仅仅是数据的收集、展现、查询，它更加强调数据关联性，帮助我们快速发现、定位问题所在。</p><h2 id="服务安全保障"><span class="mr-2"><strong>服务安全保障</strong></span><a href="#服务安全保障" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>在微服务系统中，我们需要确保服务安全，防止用户敏感信息泄漏。</p><ol><li>身份认证：在请求入口（如 API 网关），需要对请求者身份进行校验，较为常规的做法是 Token 校验。<li>访问控制：对于不同的用户，具有的权限不同，可操控的资源不同，需要进行细粒度、精确到按钮的访问权限控制。具体方案如 RBAC 权限控制。<li>黑白名单机制：<li>对于异常流量，需要进行及时的检查与封禁。通过拦截 IP 请求，判断该 IP 是否位于黑名单中，及时拒绝访问<li>对于开发者、管理员等角色，直接放行，方便开发、测试或管理。</ol><h2 id="服务运维"><span class="mr-2"><strong>服务运维</strong></span><a href="#服务运维" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>微服务架构的升级，往往伴随着容器化技术与 Devops 自动化运维，它们经常搭配使用。</p><p>因为当传统的单体应用升级为微服务之后，虽然降低了耦合性，但同时提高了复杂程度，其中就包括运维部署的复杂度。服务的拆分会造成多个服务的打包、测试、部署发布上线，运维的负担大大加重。这时便需要 Devops 解决这一问题。</p><blockquote><p>Devops 其实是开发 <strong>Development</strong> 与运维 <strong>Operation</strong> 的组合词，这意味着开发与运维的关系变得更加紧密。有了 Devops，开发人员也可解决一键解决运维部署问题，它强调运维部署的自动化流程。</p></blockquote><p>容器化技术则是简化了环境配置操作，解决了环境初始化的问题，使得微服务能够在开发、测试、生产环境之间随意切换。</p><blockquote><p>Docker 容器化技术能够封装、打包应用程序，将程序以及其依赖文件打包为一个镜像之后，便可在不同的环境快速运行，无需处理配置、依赖问题。</p></blockquote><h2 id="总结"><span class="mr-2"><strong>总结</strong></span><a href="#总结" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>通过本篇文章，我们基本梳理清楚了微服务技术架构的相关知识点。接下来，我们对以上知识点用「一句话」进行总结。</p><ol><li><strong>服务描述</strong>：定义服务接口名、接口参数信息、接口响应信息等内容。<li><strong>服务发现与注册</strong>：抽取服务基本信息到注册中心中，实现服务注册、服务上下线管理、服务调用信息获取功能。<li><strong>服务通信</strong>：通过异步消息队列或同步请求响应方式，实现 IPC 进程间通信。<li><strong>服务路由</strong>：负载均衡、分组调用、全链路灰度发布。<li><strong>服务稳定性治理</strong>：多用于高并发微服务场景，通过服务限流、降级、熔断、请求超时、请求重试等确保服务高可用。<li><strong>服务可观测</strong>：从日志 Logging、性能指标 Metrics、链路追踪 Tracing 等三个角度，实现服务可观测。<li><strong>服务安全保障</strong>：在 API 网关入口处，实现身份认证、访问控制、黑白名单过滤机制，保障服务安全，防止数据泄漏。<li><strong>服务运维</strong>：结合容器化技术与 Devops，实现自动化运维，提升微服务运维效率，开发人员也可承担运维职责，实现敏捷开发。</ol><p>大家可以顺着知识点进行深入的学习与实践。</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%E6%8A%80%E6%9C%AF%E7%A7%91%E6%99%AE/'>技术科普</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/%E5%AD%A6%E4%B9%A0/" class="post-tag no-text-decoration" >学习</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%E4%BB%8E%E6%A0%B9%E5%84%BF%E4%B8%8A%E7%90%86%E8%A7%A3%E5%BE%AE%E6%9C%8D%E5%8A%A103%20-%20YKFire&url=%2Fposts%2FMicroservicesThree%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%E4%BB%8E%E6%A0%B9%E5%84%BF%E4%B8%8A%E7%90%86%E8%A7%A3%E5%BE%AE%E6%9C%8D%E5%8A%A103%20-%20YKFire&u=%2Fposts%2FMicroservicesThree%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2FMicroservicesThree%2F&text=%E4%BB%8E%E6%A0%B9%E5%84%BF%E4%B8%8A%E7%90%86%E8%A7%A3%E5%BE%AE%E6%9C%8D%E5%8A%A103%20-%20YKFire" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" data-title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">最近更新</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/ApplyProtocol2/">计算机网络应用层协议(二)</a><li><a href="/posts/ApplyProtocol/">计算机网络应用层协议(一)</a><li><a href="/posts/NetworkOne/">计算机网络发展史(一)</a><li><a href="/posts/NetworkTwo/">计算机网络发展史(二)</a><li><a href="/posts/NetworkThree/">计算机网络发展史(三)</a></ul></div><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E5%AD%A6%E4%B9%A0/">学习</a> <a class="post-tag" href="/tags/%E8%81%8C%E4%B8%9A%E8%A7%84%E5%88%92/">职业规划</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">文章内容</div><nav id="toc"></nav></div><script src="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/NetWorkProtocol5/"><div class="card-body"> <em class="small" data-ts="1700394840" data-df="YYYY/MM/DD" > 2023/11/19 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>计算机网络传输层协议(五)</h3><div class="text-muted small"><p> 传输层协议 这是计算机网络传输层的第五篇文章。 TCP 数据流和窗口管理 我们在之前的讲述中知道了可以使用滑动窗口来实现流量控制，也就是说，客户端和服务器可以相互提供数据流信息的交换，数据流的相关信息主要包括报文段序列号、ACK 号和窗口大小。 图中的两个箭头表示数据流方向，数据流方向也就是 TCP 报文段的传输方向。可以看到，每个 TCP 报文段中都包括了序列号、ACK 和...</p></div></div></a></div><div class="card"> <a href="/posts/MyFirstBlog/"><div class="card-body"> <em class="small" data-ts="1662124620" data-df="YYYY/MM/DD" > 2022/09/02 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>我的第一篇博客！</h3><div class="text-muted small"><p> 我的第一篇博客！ 这里可以放代码片段噢～ //代码片段 int main(){ hello world; }</p></div></div></a></div><div class="card"> <a href="/posts/List/"><div class="card-body"> <em class="small" data-ts="1662694200" data-df="YYYY/MM/DD" > 2022/09/09 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>数据结构--链表</h3><div class="text-muted small"><p> 数据结构–链表 一、链表简介 什么是链表，链表是一种通过指针串联在一起的线性结构，每一个节点由两部分组成，一个是数据域，一个是指针域（存放指向下一个节点的指针），最后一个节点的指针域指向null（空指针的意思） 链接的入口节点称为链表的头结点也就是head 链表的两种操作方法：①直接使用原来的链表进行操作 ②设置一个虚拟头结点进行操作 一般设置一个虚拟头结点来操作...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/MicroservicesTwo/" class="btn btn-outline-primary" prompt="上一篇"><p>从根儿上理解微服务02</p></a> <a href="/posts/NetworkOne/" class="btn btn-outline-primary" prompt="下一篇"><p>计算机网络发展史(一)</p></a></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E5%AD%A6%E4%B9%A0/">学习</a> <a class="post-tag" href="/tags/%E8%81%8C%E4%B8%9A%E8%A7%84%E5%88%92/">职业规划</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/username">YKFire</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0">本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> (function () { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE ? "dark" : "default"); let config = {theme: expectedTheme}; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function () { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Create mermaid tag */ $("pre").has("code.language-mermaid").each(function () { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<pre class=\"mermaid\">${svgCode}</pre>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); })(); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/zh.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script>

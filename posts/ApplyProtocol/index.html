<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="计算机网络应用层协议(一)" /><meta name="author" content="YKFire" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="应用层协议" /><meta property="og:description" content="应用层协议" /><link rel="canonical" href="/posts/ApplyProtocol/" /><meta property="og:url" content="/posts/ApplyProtocol/" /><meta property="og:site_name" content="YKFire" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-09-18T13:30:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="计算机网络应用层协议(一)" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@YKFire" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"YKFire"},"dateModified":"2023-10-19T15:22:40+00:00","datePublished":"2023-09-18T13:30:00+00:00","description":"应用层协议","headline":"计算机网络应用层协议(一)","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/ApplyProtocol/"},"url":"/posts/ApplyProtocol/"}</script><title>计算机网络应用层协议(一) | YKFire</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="YKFire"><meta name="application-name" content="YKFire"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/config/z1.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">YKFire</a></div><div class="site-subtitle font-italic">怕什么真理无穷，进一寸，有一寸的欢喜.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/YKFire" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['1183491613','qq.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>计算机网络应用层协议(一)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>计算机网络应用层协议(一)</h1><div class="post-meta text-muted"> <span> 发表于 <em class="" data-ts="1695043800" data-df="YYYY/MM/DD" data-toggle="tooltip" data-placement="bottom"> 2023/09/18 </em> </span> <span> 更新于 <em class="" data-ts="1697728960" data-df="YYYY/MM/DD" data-toggle="tooltip" data-placement="bottom"> 2023/10/19 </em> </span><div class="d-flex justify-content-between"> <span> 作者 <em> <a href=""></a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4105 字"> <em>22 分钟</em>阅读</span></div></div></div><div class="post-content"><h2 id="应用层协议"><span class="mr-2"><strong>应用层协议</strong></span><a href="#应用层协议" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>在介绍完计算机基础知识和 TCP/IP 协议簇的基础概念之后，相信读者对计算机网络有了初步的认识，那么下面我们就要对不同的协议层进行分类介绍了，我们选用从应用层产生数据开始，逐步下探至数据链路层，因为这种介绍对读者来说更容易接纳，吸收程度更好。</p><div class="table-wrapper"><table><tbody><tr><td>具体内容看上一篇文章：[计算机网络TCP/IP基础<td>YKFire](https://ykfire.github.io/posts/NetworkTCPandIP/)</table></div><p>一般情况下，用户不会在意网络应用程序是按照怎样的机制运行的，用户也不会关心它们是如何产生数据的，如何经过协议栈层层包装把数据发出去的，但是我们是程序员，必须要专业一点，势必要掌握好理论知识然后在合适的时间讲出来好让别人认为我们是大佬 ：）</p><p>应用层位于 TCP/IP 模型的最上层，同时应用层也对应 OSI 标准模型的第 5、6、7层，也就是<strong>会话层、表现层、应用层</strong>。</p><p><a href="/assets/blog_res/2023-09-18-ApplyProtocol.assets/image-20231011213439826.png" class="popup img-link "><img data-src="/assets/blog_res/2023-09-18-ApplyProtocol.assets/image-20231011213439826.png" alt="image-20231011213439826" class="lazyload" data-proofer-ignore></a></p><h2 id="应用层概念"><span class="mr-2"><strong>应用层概念</strong></span><a href="#应用层概念" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>现如今，越来越多的应用程序通过计算机网络实现相互通信，这些应用包括 Web 浏览器、远程登录、电子邮件、文件传输、文件下载等，而这些应用的日常使用势必要遵循某种协议和规范，应用层协议正是进行这些行为活动的规则和标准。</p><p>简单来说，应用层就是规定应用程序在进行通信时所遵循的协议。</p><p><a href="/assets/blog_res/2023-09-18-ApplyProtocol.assets/image-20231011213505433.png" class="popup img-link "><img data-src="/assets/blog_res/2023-09-18-ApplyProtocol.assets/image-20231011213505433.png" alt="image-20231011213505433" class="lazyload" data-proofer-ignore></a></p><h3 id="应用层协议的定义"><span class="mr-2"><strong>应用层协议的定义</strong></span><a href="#应用层协议的定义" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>应用层协议定义了在不同端系统上应用程序是如何相互传输报文的。一般来说，应用层协议会规定如下内容：</p><ol><li>交换的报文类型：交换的是请求报文还是响应报文。<li>报文字段的解释：对报文中各个字段的详细描述。<li>报文字段的语义：报文各个字段的含义是什么。<li>报文交换时间、方式：程序何时、以什么方式发送报文以及响应。</ol><p>直白一点来说，应用层只是产生和使用数据的逻辑层，在这一层次我们并不会关心它们是如何发送数据的以及数据发到哪里。应用层有两种层次结构。</p><h3 id="应用层体系结构"><span class="mr-2"><strong>应用层体系结构</strong></span><a href="#应用层体系结构" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><strong>应用层体系结构</strong>定义了应用层端系统之间数据交换的方式，一般来说，主流的体系结构有两种：</p><ol><li>客户-服务器体系结构 - CS 结构 (client-server architecture)<li>对等体系结构 - P2P 结构 (P2P architecture)</ol><p>在客户-服务器体系结构中，分为请求方和服务方。有一个总是打开的主机称为服务端 (Server)，它向客户端 (client) 提供服务。客户端会发送请求给服务端，服务端会根据客户端的请求做出响应。举一个简单的例子：我今天下馆子去，找到了一个饭店，这时候会有一个服务员热情接见我，我看完菜单给服务员说我想吃猪肉，这个”我想吃猪肉”就是请求，然后服务员报以热情的微笑并扇了我一巴掌，说：”我们这是清真馆”，这个服务员对我笑并扇了我一巴掌然后对我说了句话，就是响应。</p><p>我们最常见的服务端就是 Web 服务器，Web 服务器提供于来自浏览器的请求。我们日常访问百度、谷歌，其实就是在访问它们的 Web 服务器。</p><p><a href="/assets/blog_res/2023-09-18-ApplyProtocol.assets/image-20231011213552742.png" class="popup img-link "><img data-src="/assets/blog_res/2023-09-18-ApplyProtocol.assets/image-20231011213552742.png" alt="image-20231011213552742" class="lazyload" data-proofer-ignore></a></p><p>一般常见的 Web 服务器主要有<strong>Apache、IIS、Jboss、Tomcat、WebSphere、WebLogic</strong> 等。</p><p>当 Web 服务器通过浏览器接收到用户请求后，它会经过一系列的处理把信息或者页面等通过浏览器呈现给用户，这种模式就是客户 - 服务器模式。</p><p>这里有两点需要注意</p><ol><li>在客户 - 服务器模式下，通常客户端彼此之间是并不互相通信的。<li>服务器通常具有固定的、周知的 IP 地址可以提供访问。</ol><p>客户 - 服务器模式通常会出现随着客户数量的急剧增加导致单台服务器无法满足大量请求的情况。为此，通常需要配备大量的数据中心 (data center)，用来跟踪所有的用户请求。</p><p>与此相反，P2P 对等体系结构对这种数据中心的依赖性很低，因为在 P2P 体系结构中，应用程序在两个主机之间直接通信，这些主机被称为对等方，与有中心服务器的中央网络系统不同，对等网络的每个用户端既是一个请求方也是一个服务提供方。常见的 P2P 体系结构的应用有文件共享、视频会议、网络电话等。举个例子：毕业了很多大学生都有许多个人物品来不及处理，这时候大家会搞一个跳蚤市场，来彼此出售、交换一些个人物品，这里面每个人既是请求方，同时也是服务提供方。</p><p>说到跳蚤市场，啰嗦两句，一般这种跳蚤市场有很多好东西，好用不贵，而且卖的东西种类繁多，物品齐全，性价比贼高，懂得都懂。</p><p>P2P 一个最大的特点就是扩展性 (self-scalability)，因为 P2P 网络的一个重要的目标就是让所有的客户端都能提供资源、获取资源，共享带宽，存储空间等。因此，当有更多节点加入且对系统请求增多，整个系统的容量也增大。这是具有一组固定服务器的客户 - 服务器结构不具备的，这也就是 P2P 的优势。</p><p>在了解完上述这两种结构之后，我们把关注点放在这两种体系结构下，各个端系统之间是如何进行通信的。</p><h2 id="进程通信"><span class="mr-2"><strong>进程通信</strong></span><a href="#进程通信" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>我们上面说到了两种体系结构，一种是客户 - 服务器 CS 模式，一种是 P2P 对等模式。我们都知道一个计算机允许同时运行多个应用程序，在我们看起来这些应用程序好像是同时运行的，那么它们之间是如何通信的呢？</p><p>从操作系统的角度上来说，进行通信的实际上是进程 (process) 而不是程序。我们一般所讲的是进程通信，但是没人说程序通信的。进程是一类程序，但是程序并不特指的是进程。一个进程可以被认为是运行在端系统中的程序。当多个进程运行在相同的端系统上时，它们使用进程间的通信机制相互通信。进程间的通信规则由操作系统来确定。</p><h3 id="进程与计算机网络之间的接口"><span class="mr-2"><strong>进程与计算机网络之间的接口</strong></span><a href="#进程与计算机网络之间的接口" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>计算机是庞大且繁杂的，计算机网络也是，应用程序不可能只有一个进程组成，它同样是多个进程共同作用协商运行，那么分布在多个端系统之间的进程是如何进行通信的呢？实际上，每个进程中会有一个套接字 (socket)的，它其实是一个软件接口，套接字也是应用程序的内部接口，应用程序可以通过它发送或接收数据，同时也可以对其进行像对文件一样的打开、读写和关闭等操作。</p><p>举个例子来简单类比一下套接字和网络进程：进程可类比一座房子，而它的套接字相当于是房子的门，当一个进程想要与其他进程进行通信时，它会把报文推出门外，然后通过运输设备把报文运输到另外一座房子，通过门进入房子内部，提供给其他进程使用。</p><p>下图是一个通过套接字进行通信的示意图。</p><p><a href="/assets/blog_res/2023-09-18-ApplyProtocol.assets/image-20231011213640270.png" class="popup img-link "><img data-src="/assets/blog_res/2023-09-18-ApplyProtocol.assets/image-20231011213640270.png" alt="image-20231011213640270" class="lazyload" data-proofer-ignore></a></p><p>从上图可以看到，Socket 属于主机或者服务进程的内部接口，由应用程序开发人员进行控制，两台端系统之间进行通信会通过 TCP 缓冲区经由网络传输到另一个端系统的 TCP 缓冲区，Socket 从 TCP 缓冲区读取报文供应用程序内部使用。</p><p>套接字是建立网络应用程序的可编程接口，因此套接字也被称为应用程序和网络之间的应用程序编程接口( Application Programming Interface，API )。应用程序开发人员可以控制套接字内部细节，但是无法控制运输层的传输，只能对运输层的传输协议进行选择，还可以对运输层的传输参数进行选择，比如最大缓存和最大报文长度等。</p><p>关于更多 Socket 的内容，我们会在后面进行讨论。</p><h3 id="进程寻址"><span class="mr-2"><strong>进程寻址</strong></span><a href="#进程寻址" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>我们上面提到网络应用程序之间会相互发送报文，那么它是如何知道自己应该向哪个应用进程发送呢？是不是存在某种机制能够让它知道发到哪里？这就好比你要发送电子邮件，你写好了内容但是你不知道给谁发，所以这个时候必须要有一种知道对方地址的机制，并且能够辨明对方唯一的地址，这个地址就是<strong>IP 地址</strong>。我们会在后面的内容中详细讨论 IP 地址的内容，目前只需要知道 IP 地址是一个 32 比特的数据并且能够唯一标示互联网中任意一台主机的地址就可以了。</p><p>只知道 IP 地址是否就可以了呢？当然不行，举个例子：IP 地址就相当于是你在地图上的唯一坐标，比如说是河北省石家庄市xx小区xx栋xx层xx号，可以具体到门牌号，但是你家里可能会有多个人，你到底要给家里的谁发送信息？这个需要明确下，所以上面的门牌号，就相当于是 IP 地址，你要给家里的谁发送消息，这个谁就是端口号。例如，Web 应用程序需要用 80 端口来标示，邮件服务器程序需要使用 25 来标示，这个谁就是 80 或者 25 端口。</p><h3 id="应用程序如何选择运输服务"><span class="mr-2"><strong>应用程序如何选择运输服务</strong></span><a href="#应用程序如何选择运输服务" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>我们知道应用程序是按照应用层协议的标准传输数据的，应用程序只是起到一个生产数据和应用数据的程序，那么我们该如何发送报文呢？这就好比你知道目的地是哪里了，你应该选择哪种交通工具？是走路，公交，地铁还是打车？</p><p>应用程序发送报文的交通工具的选择也有很多，我们可以从下面这几个方面来进行考量。</p><ol><li>数据传输是否可靠</ol><p>分组在计算机网络中会存在丢包问题，丢包问题的严重性和网络协议的性质有关，如果像是电子邮件、文件传输、远程主机、Web 文档传输的过程中出现问题，数据丢失可能会造成非常严重的后果。如果像是网络游戏，多人视频会议造成的影响可能比较小。鉴于此，数据传输的可靠性也是首先需要考虑的问题。因此，如果协议提供了这样的确保数据交付的服务，就认为提供了<strong>可靠数据传输</strong>，能够忍受数据丢失的应用被称为容忍丢失的应用。</p><ol><li>吞吐量</ol><p>吞吐量就是在数据传输过程中，发送进程能够向接收进程交付比特的速率。具有吞吐量要求的应用程序被称为<strong>带宽敏感的应用</strong>。带宽敏感的应用具有特定的吞吐量要求，而<strong>弹性应用</strong>能够根据当时可用的带宽或多或少地利用可供使用的吞吐量。</p><ol><li>定时</ol><p>定时能够确保网络中两个应用程序的收发能否在指定的时间内完成，这也是应用程序选择运输服务需要考虑的一个因素。比如在游戏中，你一包数据迟迟发送不过去，对面都推塔了你还卡在半路上呢。</p><ol><li>安全性</ol><p>最后，选择运输协议一定要能够为应用程序提供一种或多种安全性服务，这个也是非常重要的。</p><h3 id="因特网能够提供的运输服务"><span class="mr-2"><strong>因特网能够提供的运输服务</strong></span><a href="#因特网能够提供的运输服务" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>说完运输服务的选型，接下来该聊一聊因特网能够提供哪些服务了。实际上，因特网为应用程序提供了两种运输层的协议，即 UDP 和 TCP，下面是一些网络应用的选择要求，可以根据需要来选择适合的运输层协议。</p><p><a href="/assets/blog_res/2023-09-18-ApplyProtocol.assets/image-20231011213705510.png" class="popup img-link "><img data-src="/assets/blog_res/2023-09-18-ApplyProtocol.assets/image-20231011213705510.png" alt="image-20231011213705510" class="lazyload" data-proofer-ignore></a></p><p>下面我们就来聊一聊这两种运输协议的应用场景：</p><h4 id="tcp"><span class="mr-2"><strong>TCP</strong></span><a href="#tcp" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>TCP 服务模型的特性主要有下面几种：</p><ol><li>面向连接的服务</ol><p>在应用层数据报发送后， TCP 会让客户端和服务器互相交换运输层控制信息，交换信息前需要先建立一条连接通道，这个建立连接的过程就是握手。这个握手过程就是提醒客户端和服务器，你们准备好接收数据了吗？握手完成后，一个TCP 连接 (TCP Connection) 就此建立。TCP 连接是一条全双工的，全双工的意思是<strong>连接双方的进程都可以在此连接上同时进行收发报文</strong>。当应用程序结束报文发送后，必须断开连接。</p><ol><li>可靠的数据传输</ol><p>通信进程能够依靠 TCP 无差错、按适当顺序交付所有发送的数据。应用程序能够依靠 TCP 将相同的字节流交付给接收方的套接字，没有字节的丢失和冗余。</p><ol><li>拥塞控制</ol><p>当接收方和发送方之间的网络出现拥塞时，TCP 的拥塞控制会抑制发送进程（客户端或服务器），等到网络状态恢复正常后再继续发送。TCP 的拥塞控制并不一定为通信进程带来直接好处，但能为因特网带来整体好处。我们会在后面具体探讨拥塞控制。</p><h4 id="udp"><span class="mr-2"><strong>UDP</strong></span><a href="#udp" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>UDP 是一种轻量级的传输协议，UDP 是无连接的，因此使用 UDP 协议不需要经过握手过程，直接发就行。UDP 也不会保证报文是否传输到服务端，它就像是一个撒手掌柜。不仅如此，到达接收进程的报文也可能是乱序到达的。但是 UDP 的传输速率非常快，非常适合大多数互联网应用。</p><p>下面是上表列出来的一些应用所选择的协议：</p><p><a href="/assets/blog_res/2023-09-18-ApplyProtocol.assets/image-20231011213726337.png" class="popup img-link "><img data-src="/assets/blog_res/2023-09-18-ApplyProtocol.assets/image-20231011213726337.png" alt="image-20231011213726337" class="lazyload" data-proofer-ignore></a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/'>计算机网络</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/%E5%AD%A6%E4%B9%A0/" class="post-tag no-text-decoration" >学习</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE(%E4%B8%80)%20-%20YKFire&url=%2Fposts%2FApplyProtocol%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE(%E4%B8%80)%20-%20YKFire&u=%2Fposts%2FApplyProtocol%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2FApplyProtocol%2F&text=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE(%E4%B8%80)%20-%20YKFire" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" data-title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">最近更新</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/ApplyProtocol2/">计算机网络应用层协议(二)</a><li><a href="/posts/ApplyProtocol/">计算机网络应用层协议(一)</a><li><a href="/posts/NetworkOne/">计算机网络发展史(一)</a><li><a href="/posts/NetworkTwo/">计算机网络发展史(二)</a><li><a href="/posts/NetworkThree/">计算机网络发展史(三)</a></ul></div><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E5%AD%A6%E4%B9%A0/">学习</a> <a class="post-tag" href="/tags/%E8%81%8C%E4%B8%9A%E8%A7%84%E5%88%92/">职业规划</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">文章内容</div><nav id="toc"></nav></div><script src="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/surroundedByAlgorithms/"><div class="card-body"> <em class="small" data-ts="1700983740" data-df="YYYY/MM/DD" > 2023/11/26 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>完蛋！我被算法包围了</h3><div class="text-muted small"><p> 算法在日常生活的应用 算法听上去很复杂，离我们很遥远。但是以下 10 种算法广泛用于我们的日常生活，包括互联网搜索引擎、社交网络、WiFi、手机甚至卫星。 以下是主宰我们世界的十种算法： 01 排序 我们学习算法一般都是从排序算法开始的，比如冒泡排序、快排序、归并排序、堆排序等。 笔者曾经做过的一个大批量对账系统，就是在第一步使用归并外排序（External MergeSort...</p></div></div></a></div><div class="card"> <a href="/posts/MyFirstBlog/"><div class="card-body"> <em class="small" data-ts="1662124620" data-df="YYYY/MM/DD" > 2022/09/02 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>我的第一篇博客！</h3><div class="text-muted small"><p> 我的第一篇博客！ 这里可以放代码片段噢～ //代码片段 int main(){ hello world; }</p></div></div></a></div><div class="card"> <a href="/posts/List/"><div class="card-body"> <em class="small" data-ts="1662694200" data-df="YYYY/MM/DD" > 2022/09/09 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>数据结构--链表</h3><div class="text-muted small"><p> 数据结构–链表 一、链表简介 什么是链表，链表是一种通过指针串联在一起的线性结构，每一个节点由两部分组成，一个是数据域，一个是指针域（存放指向下一个节点的指针），最后一个节点的指针域指向null（空指针的意思） 链接的入口节点称为链表的头结点也就是head 链表的两种操作方法：①直接使用原来的链表进行操作 ②设置一个虚拟头结点进行操作 一般设置一个虚拟头结点来操作...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/NetworkTCPandIP/" class="btn btn-outline-primary" prompt="上一篇"><p>计算机网络TCP/IP基础</p></a> <a href="/posts/DataBaseSplit/" class="btn btn-outline-primary" prompt="下一篇"><p>数据库分库分表</p></a></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E5%AD%A6%E4%B9%A0/">学习</a> <a class="post-tag" href="/tags/%E8%81%8C%E4%B8%9A%E8%A7%84%E5%88%92/">职业规划</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/username">YKFire</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0">本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> (function () { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE ? "dark" : "default"); let config = {theme: expectedTheme}; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function () { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Create mermaid tag */ $("pre").has("code.language-mermaid").each(function () { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<pre class=\"mermaid\">${svgCode}</pre>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); })(); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/zh.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script>
